# به نام خدا 

## گزارش کار مربوط به پروژه دانشگاه


## مقدمه


این پروژه یک برنامه تحت وب است که با استفاده از چارچوب FastAPI توسعه یافته و از SQLAlchemy برای مدیریت دیتا بیس استفاده می‌کند. هدف از این پروژه، ایجاد یک سیستم برای مدیریت کاربران است که شامل عملیات‌های CRUD (ایجاد، خواندن، به‌روزرسانی، حذف) برای کاربران می‌باشد. این برنامه با استفاده 
از Docker بسته‌بندی و تبدیل به image شده است تا اجرای آن در محیط‌های مختلف به سادگی امکان‌پذیر باشد.این پروژه شامل چندین ماژول و فایل مرتبط با یکدیگر است که برای مدیریت و اجرای یک برنامه تحت وب توسعه یافته‌اند.
ین گزارش کار شامل توضیحاتی در مورد هر فایل و ماژول به همراه نقش آن‌ها در پروژه می‌باشد.




## 1_ساختار پروژه
- Dockerfile
- requirements.txt
- router/
- sql_app/
- فایل‌های پایتون شامل: __init__.py, datavalidation.py, main.py, schemas.py
- sql_app شامل ماژول های :__init__.py , crud.py , database.py, models.py

## 2_فایل ها و پوشه ها
1. Dockerfile
   - این فایل حاوی دستوراتی برای ساخت یک ایمیج Docker است که شامل تمام وابستگی‌ها و تنظیمات لازم برای اجرای پروژه در یک محیط مجازی می‌باشد.

2. requirements.txt
   - این فایل شامل لیستی از کتابخانه‌ها و پکیج‌های پایتون است که پروژه به آن‌ها وابسته است. این فایل برای نصب سریع و آسان تمام وابستگی‌ها استفاده می‌شود.(وقتی بخوایم پروژه رو روی سیستم دیگه ای اجرا کنیم با استفاده از این تمام کتابخانه ها و پکیج های لازم برای ران کردن پروژه وجود داره ونیازی نیست روی اون سیستم تمام پکیج ها و کتابخانه هارو نصب کنیم چون یک ایمیج از کل کتابخانه ها و پکیج ها داریم )

3. router/
   - این پوشه شامل فایل‌های مربوط به مسیریابی (routing) در برنامه تحت وب می‌باشد. به طور معمول، فایل‌هایی در این پوشه قرار دارند که درخواست‌های ورودی را به کنترلرهای مناسب هدایت می‌کنند.

4. sql_app/
   - این پوشه شامل فایل‌ها و ماژول‌هایی است که برای ارتباط با دیتا بیس استفاده می‌شوند. معمولاً شامل مدل‌های داده،ایجاد جداول و توابع  برای دسترسی به داده‌ها است.

5. **__init__.py**
   - این فایل برای تعیین یک پوشه به عنوان یک پکیج پایتون استفاده می‌شود. این فایل معمولاً خالی است.

6. datavalidation.py
   - این فایل حاوی توابع و کلاسی‌هایی برای اعتبارسنجی داده‌ها است. این فایل می‌تواند شامل بررسی صحت و کامل بودن داده‌های ورودی باشد.(این فایل داده های پروژه را اعتبار سنجی میکند تا کاربر درست و با الگو مشخص شده دیتا را وارد کند )

7. main.py
   - فایل اصلی پروژه که به احتمال زیاد نقطه ورود برنامه است. این فایل شامل تنظیمات اولیه، تعریف مسیریابی‌ها و راه‌اندازی سرور می‌باشد.

8. schemas.py
   - این فایل شامل تعریف ساختار داده‌ها با استفاده از پکیج‌هایی مانند Pydantic است. این فایل معمولاً برای تعریف مدل‌های داده استفاده می‌شود که داده‌های ورودی و خروجی را توصیف می‌کند.(این فایل برای تعریف نوع داده و شکل دادن به داده استفاده میشود)
  
   - ## بررسی دقیق تر فایل ها و ماژول ها
   - 
   - ## 1. Dockerfile
   - ین فایل برای ساخت یک تصویر Docker استفاده می‌شود که محیط اجرای برنامه را تنظیم می‌کند. به طور کلی، شامل دستورات زیر است:

   ![Screenshot (7) - Copy](https://github.com/yasaman-qpr/class/assets/163880515/a3c7879a-c7cf-424b-8de2-968e2756bf3a)


## 2. requirements.txt
این فایل شامل لیستی از پکیج‌ها و کتابخانه های پایتون است که پروژه به آن‌ها وابسته است. محتویات آن می‌تواند به صورت زیر باشد:

- ![Screenshot (9)](https://github.com/yasaman-qpr/class/assets/163880515/718673ea-e3dd-4204-b16f-64d62dfa0705)


## 3. router
سیریاب (Router) یکی از اجزای مهم در برنامه‌های وب است که نقش اصلی آن مدیریت و هدایت درخواست‌های ورودی به مسیرهای مناسب در برنامه است. در این پروژه دایرکتوری router شامل فایل‌های مربوط به مسیریابی درخواست‌ها برای نقش‌های مختلف کاربری است.
### ساختار دایرکتوری router

![Screenshot (11)](https://github.com/yasaman-qpr/class/assets/163880515/e36cbcd4-0dcb-405e-962e-285b9f42aa72)

1. **__init__.py:**
   - این فایل برای تعریف این دایرکتوری به عنوان یک ماژول پایتون استفاده می‌شود.(این فایل خالی است )

2. **course.py:**
   - شامل مسیرهای مرتبط با مدیریت درس ها است. این فایل می‌تواند شامل توابعی برای ایجاد، خواندن، به‌روزرسانی و حذف درس ها باشد.

3. **ostad.py:**
   - شامل مسیرهای مرتبط با مدیریت اساتید است. این فایل می‌تواند شامل توابعی برای ایجاد و خواندن و به روزرسانی و حدف اساتید باشد

4. **student.py:**
   - شامل مسیرهای مرتبط با مدیریت دانشجویان است. این فایل می‌تواند شامل توابعی برای ایجاد و خواندن و به روزرسانی و حدف دانشجویان باشد
  
## 4. sql_app
این پوشه شامل فایل‌هایی برای ارتباط با پایگاه داده است. برای مثال، models.py و database.py می‌توانند در این پوشه قرار داشته باشند.


![Screenshot (13)](https://github.com/yasaman-qpr/class/assets/163880515/39a2e658-0ff9-4f9e-b64c-052b9ad4d5d6)


1. **crud.py:**
این فایل شامل توابعی است که عملیات‌های اصلی پایگاه داده (ایجاد، خواندن، به‌روزرسانی، حذف) را انجام می‌دهند. این توابع با مدل‌های داده‌ای و جلسات پایگاه داده تعامل دارند.


import های مربوط به crud:

![Screenshot (21)](https://github.com/yasaman-qpr/class/assets/163880515/db8cf9e5-90cb-416e-8dd8-9d1301d5b143)



یک بخش از فایل کراد:


![Screenshot (17)](https://github.com/yasaman-qpr/class/assets/163880515/8386d30b-4def-4da9-82e9-4d439c6f0912)


   


3. **database.py:**
4. این فایل شامل تنظیمات پایگاه داده و ایجاد ارتباط با پایگاه داده است.

![Screenshot (19)](https://github.com/yasaman-qpr/class/assets/163880515/0d7c56dc-c371-49cb-b79e-1758d15475ca)






5. **models.py:**





